# Messaging Application

Problem remaining: Can not handle case 2: one of two users close tab/browser. The `beforeunload` event include 3 actions: back page, refresh the page, close tab/browser, so I can not distinguish close tab/browser action with 2 action above.

## Introduction

This is a Realtime Chat Application with Social Auth.
A react chat app using: React, Redux, ES6, Firebase, Ant design,...
Some dependencies: redux-persist, i18next, axios, eslint, prettier, react-toastify,...

** Feature:
- Registered using a Facebook or Google account.
- Add his/her nickname, birthday, and gender for the first time. An avatar generated by Gravatar.
- Real-time online users list (available and unavailable users).
- When chatting, if one of the two users logout (case 1), a modal will show a notification for another user.
- Automatically detected and properly formatted links and emojis in chat messages (or change db) and input messages.
- Translate language (VI/EN)
- Load more messages.

## Realtime Database
This database design for 2 user chatting, but it can be scale in the future.

db
|
+-chats
|   |
|   +--roomId1
|   |   |
|   |   +--messageId //.push()
|   |   |   |
|   |   |   +--created //firebase.database.ServerValue.TIMESTAMP
|   |   |   |
|   |   |   +--message
|   |   |   |
|   |   |   +--sentBy //userUid
|   
+-rooms
|   |
|   +--user1Uid_userUid2 //roomId created by sort 2 uid, so 2 user will have same room
|   |   |
|   |   +--member1Uid
|   |   |
|   |   +--member2Uid
|
+-users
|   |
|   +--userUid
|   |   |
|   |   +--avatar
|   |   |
|   |   +--birthday
|   |   |
|   |   +--gender //0: female, 1: male
|   |   |
|   |   +--nickName
|   |   |
|   |   +--status //0: offline, 1: available, userUid: unavailable
|   |   |
|   |   +--uid

## Demo
Hosting URL: https://messaging-application-cbe90.web.app/